Supports a channel API that can be used with IPC for establishing new
bidirectional channel without any race conditions.

Neither channel moves forward until both ends of the channel are available.
