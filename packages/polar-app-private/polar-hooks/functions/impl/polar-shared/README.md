Small pieces of code lifted from Polar so that we have a similar API.
